@model ResumeAI.DTOs.CoverLetterDTO

@{
    ViewData["Title"] = "Cover Letter";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

<div class="container my-5">
    <div class="card p-5 shadow-lg rounded-4">
        <div class="text-end text-muted">@DateTime.Now.ToString("MMMM dd, yyyy")</div>

        <!-- Recipient -->
        <div class="mt-4 mb-4">
            <strong>@Model.RecipientFullName</strong><br />
            @Model.RecipientAddress
        </div>

        <!-- Greeting -->
        <p><strong>Dear @Model.RecipientFullName,</strong></p>

        <!-- Cover Letter Content -->
        <p>@Model.Introduction</p>
        <p>@Model.BodyContent</p>
        <p>@Model.Closing</p>

        <!-- Signature -->
        <p class="mt-5">
            Sincerely,<br />
            <strong>@Model.SignatureName</strong>
        </p>

        <!-- Experience Section -->
        @if (Model.CoverLetterExperiences != null && Model.CoverLetterExperiences.Any())
        {
            <hr class="my-4" />
            <h4 class="text-primary mb-3">Relevant Experiences</h4>
            <ul class="list-group list-group-flush mb-4">
                @foreach (var exp in Model.CoverLetterExperiences)
                {
                    <li class="list-group-item">
                        <div class="fw-bold">@exp.JobTitle</div>
                        <div>@exp.CompanyName, @exp.CompanyLocation</div>
                        <small><em>@exp.StartDate</em> - <em>@exp.EndDate</em></small>
                        <p class="mt-2">@exp.Description</p>
                    </li>
                }
            </ul>
        }

        <!-- Skills Section -->
        @if (Model.CoverLetterSkills != null && Model.CoverLetterSkills.Any())
        {
            <h4 class="text-primary mb-3">Skills</h4>
            <ul class="list-group list-group-flush mb-4">
                @foreach (var skill in Model.CoverLetterSkills)
                {
                    <li class="list-group-item">
                        <strong>@skill.SkillName</strong> — @skill.SkillCategory<br />
                        <em>@skill.SkillDescription</em>
                    </li>
                }
            </ul>
        }

        <!-- Languages Section -->
        @if (Model.CoverLetterLanguages != null && Model.CoverLetterLanguages.Any())
        {
            <h4 class="text-primary mb-3">Languages</h4>
            <ul class="list-group list-group-flush">
                @foreach (var lang in Model.CoverLetterLanguages)
                {
                    <li class="list-group-item">
                        <strong>@lang.LanguageName</strong> — <em>@lang.ProficiencyLevel</em>
                    </li>
                }
            </ul>
        }
    </div>
</div>
