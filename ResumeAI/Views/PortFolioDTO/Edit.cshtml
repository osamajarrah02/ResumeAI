@model ResumeAI.DTOs.PortfolioDTO
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Edit Portfolio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/PortFolioCSS/Add.css" />
</head>
<body>
    <div class="container form-section">
        <h2 class="mb-4 text-center">Edit Portfolio</h2>
        <form asp-action="Edit" asp-controller="PortFolioDTO" method="post" enctype="multipart/form-data">
            <input type="hidden" asp-for="UserId" />

            <div class="row">
                <div class="col-md-4">
                    <label asp-for="FirstName">First Name</label>
                    <input asp-for="FirstName" class="form-control" />
                </div>
                <div class="col-md-4">
                    <label asp-for="SecondName">Second Name</label>
                    <input asp-for="SecondName" class="form-control" />
                </div>
                <div class="col-md-4">
                    <label asp-for="ThirdName">Third Name</label>
                    <input asp-for="ThirdName" class="form-control" />
                </div>
            </div>

            <label asp-for="Email">Email</label>
            <input asp-for="Email" class="form-control" />

            <label asp-for="PhoneNumber">Phone Number</label>
            <input asp-for="PhoneNumber" class="form-control" />

            <label asp-for="Address">Address</label>
            <input asp-for="Address" class="form-control" />

            <label asp-for="JobTitle">Job Title</label>
            <input asp-for="JobTitle" class="form-control" />

            <label asp-for="Summary">Summary</label>
            <textarea asp-for="Summary" class="form-control"></textarea>

            @if (!string.IsNullOrEmpty(Model.ImageBase64))
            {
                <div class="text-center mb-4">
                    <img src="@Model.ImageBase64" alt="Portfolio Image" class="img-fluid rounded-circle shadow" style="max-width: 200px;" />
                </div>
            }
            <label asp-for="PortFolioImage">Change Image (optional)</label>
            <input asp-for="PortFolioImage" type="file" class="form-control" />

            <h4 class="mt-4">Services</h4>
            <div id="services-container">
                @for (int i = 0; i < Model.Services?.Count; i++)
                {
                    <div class="service-item mb-3" data-index="@i">
                        <input name="Services[@i].ServiceName" class="form-control mb-2" value="@Model.Services[i].ServiceName" placeholder="Service Name" />
                        <textarea name="Services[@i].ServiceDescription" class="form-control mb-2" placeholder="Service Description">@Model.Services[i].ServiceDescription</textarea>
                        <input type="file" name="Services[@i].ServiceImageFile" class="form-control" />
                    </div>
                }
            </div>
            <button type="button" class="btn btn-dark btn-sm add-btn" id="add-service">+ Add Another Service</button>

            <h4 class="mt-4">Projects</h4>
            <div id="projects-container">
                @for (int i = 0; i < Model.Projects?.Count; i++)
                {
                    <div class="project-item mb-3" data-index="@i">
                        <input name="Projects[@i].ProjectName" class="form-control mb-2" value="@Model.Projects[i].ProjectName" placeholder="Project Name" />
                        <textarea name="Projects[@i].ProjectDescription" class="form-control mb-2" placeholder="Project Description">@Model.Projects[i].ProjectDescription</textarea>
                        <input name="Projects[@i].ProjectAttachments" class="form-control mb-2" value="@Model.Projects[i].ProjectAttachments" placeholder="Project Attachment" />
                        <input name="Projects[@i].ProjectLink" class="form-control mb-2" value="@Model.Projects[i].ProjectLink" placeholder="Project Link" />
                    </div>
                }
            </div>
            <button type="button" class="btn btn-dark btn-sm add-btn" id="add-project">+ Add Another Project</button>

            <div class="text-center mt-4">
                <button type="submit" class="btn btn-dark px-5">Save Changes</button>
                <a class="btn btn-outline-dark px-5" asp-controller="Home" asp-action="Creator">Return</a>
            </div>
        </form>
    </div>

    <script src="~/js/PortFolioJS/Add.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</body>
</html>
